<!DOCTYPE html>
<html lang="cs" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title th:text="${player.name} + ' Details'">Player Details</title>
    <link rel="stylesheet" href="/css/player.css" />
</head>
<body>
<div class="container">

    <div class="action-buttons">
        <a th:href="@{/player(target=DETAILS)}" th:text="#{backToPlayerList}">Back to Player List</a>
        <a href="/" th:text="#{backToMainMenu}">Back to Main Menu</a>
    </div>

    <div class="character-card" th:if="${player != null}">

        <div class="gold-display">
            <span th:text="${player.gold}">0</span> ðŸª™
        </div>

        <div class="character-area">

            <div class="equipment-column equipment-column-left">
                <div class="equipment-item" th:with="item=${player.getEquipment().get('HAT')}">
                    <div class="equipment-slot" th:text="${item?.template?.name ?: 'Hat'}"></div>
                    <div class="equipment-stats">
                        <div th:if="${item?.strength != null}" th:text="'Str: ' + ${item.strength}"></div>
                        <div th:if="${item?.constitution != null}" th:text="'Con: ' + ${item.constitution}"></div>
                        <div th:if="${item?.luck != null}" th:text="'Luck: ' + ${item.luck}"></div>
                    </div>
                </div>

                <div class="equipment-item" th:with="item=${player.getEquipment().get('AMULET')}">
                    <div class="equipment-slot" th:text="${item?.template?.name ?: 'Neck'}"></div>
                    <div class="equipment-stats">
                        <div th:if="${item?.strength != null}" th:text="'Str: ' + ${item.strength}"></div>
                        <div th:if="${item?.constitution != null}" th:text="'Con: ' + ${item.constitution}"></div>
                        <div th:if="${item?.luck != null}" th:text="'Luck: ' + ${item.luck}"></div>
                    </div>
                </div>

                <div class="equipment-item" th:with="item=${player.getEquipment().get('BOOTS')}">
                    <div class="equipment-slot" th:text="${item?.template?.name ?: 'Feet'}"></div>
                    <div class="equipment-stats">
                        <div th:if="${item?.strength != null}" th:text="'Str: ' + ${item.strength}"></div>
                        <div th:if="${item?.constitution != null}" th:text="'Con: ' + ${item.constitution}"></div>
                        <div th:if="${item?.luck != null}" th:text="'Luck: ' + ${item.luck}"></div>
                    </div>
                </div>
            </div>

            <div class="character-image">
                <img th:src="@{/images/character.png}" alt="Character" />
            </div>

            <div class="equipment-column equipment-column-right">
                <div class="equipment-item" th:with="item=${player.getEquipment().get('ARMOR')}">
                    <div class="equipment-slot" th:text="${item?.template?.name ?: 'Body'}"></div>
                    <div class="equipment-stats">
                        <div th:if="${item?.strength != null}" th:text="'Str: ' + ${item.strength}"></div>
                        <div th:if="${item?.constitution != null}" th:text="'Con: ' + ${item.constitution}"></div>
                        <div th:if="${item?.luck != null}" th:text="'Luck: ' + ${item.luck}"></div>
                    </div>
                </div>

                <div class="equipment-item" th:with="item=${player.getEquipment().get('LEGGINS')}">
                    <div class="equipment-slot" th:text="${item?.template?.name ?: 'Legs'}"></div>
                    <div class="equipment-stats">
                        <div th:if="${item?.strength != null}" th:text="'Str: ' + ${item.strength}"></div>
                        <div th:if="${item?.constitution != null}" th:text="'Con: ' + ${item.constitution}"></div>
                        <div th:if="${item?.luck != null}" th:text="'Luck: ' + ${item.luck}"></div>
                    </div>
                </div>

                <div class="equipment-item" th:with="item=${player.getEquipment().get('WEAPON')}">
                    <div class="equipment-slot" th:text="${item?.template?.name ?: 'Hands'}"></div>
                    <div class="equipment-stats">
                        <div th:if="${item?.strength != null}" th:text="'Str: ' + ${item.strength}"></div>
                        <div th:if="${item?.constitution != null}" th:text="'Con: ' + ${item.constitution}"></div>
                        <div th:if="${item?.luck != null}" th:text="'Luck: ' + ${item.luck}"></div>
                        <div th:if="${item?.weapon != null}" th:text="'Dmg: ' + ${item.weapon.minDamage} + ' - ' + ${item.weapon.maxDamage}"></div>
                    </div>
                </div>
            </div>

        </div> <div class="character-info">
            <h2 th:text="${player.name}">Player Name</h2>
            <div class="guild" th:text="${player.guild ?: 'No Guild'}">Guild Name</div>
            <div class="level-exp">
                Level: <span th:text="${player.level}">1</span> |
                EXP: <span th:text="${player.experience}">0</span>
            </div>
        </div>

        <div class="stats">
            <p>Base Stats</p>
            <ul class="stats-list">
                <li th:text="'Str: ' + ${player.strength}"></li>
                <li th:text="'Con: ' + ${player.constitution}"></li>
                <li th:text="'Luck: ' + ${player.luck}"></li>
            </ul>

            <div class="summary-stats" th:if="${player.getAllStats() != null}">
                <p>Summary Stats</p>
                <ul class="stats-list">
                    <li th:text="'Str: ' + ${player.getAllStats().strength}"></li>
                    <li th:text="'Con: ' + ${player.getAllStats().constitution}"></li>
                    <li th:text="'Luck: ' + ${player.getAllStats().luck}"></li>
                </ul>
            </div>
        </div>

    </div> <div th:if="${player == null}" class="info-message">
        <p>Player data could not be loaded.</p>
    </div>

</div>
</body>
</html>